import{D as le,r,aV as ae,o as oe,b$ as se,b as u,c as v,d as m,f as a,g as o,h as s,i as f,t as p,y as k,s as I}from"./index-71998689.js";import{P as ie}from"./ProductService-74c45874.js";const ne={class:"grid"},ue={class:"col-12"},de={class:"card"},re={class:"my-2"},ce={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},ve=["src","alt"],me=["src","alt"],pe={class:"field"},ye={key:0,class:"p-invalid"},fe={class:"field"},ge={class:"field"},be={key:0},Se={key:1},we={key:2},ke={class:"field"},Ce={class:"formgrid grid"},Ve={class:"field-radiobutton col-6"},xe={class:"field-radiobutton col-6"},_e={class:"field-radiobutton col-6"},he={class:"field-radiobutton col-6"},Pe={class:"formgrid grid"},De={class:"field col"},Ue={key:0,class:"p-invalid"},Ie={class:"field col"},Te={class:"flex align-items-center justify-content-center"},Ne={key:0},Le={class:"flex align-items-center justify-content-center"},Fe={key:0},qe={__name:"Crud",setup(Be){const C=le(),d=r(null),g=r(!1),S=r(!1),w=r(!1),l=r({}),b=r(null),h=r(null),V=r({}),y=r(!1),T=r([{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]),N=new ie,L=i=>{switch(i.toLowerCase()){case"instock":return"success";case"lowstock":return"warning";case"outofstock":return"danger";default:return"info"}};ae(()=>{j()}),oe(()=>{N.getProducts().then(i=>d.value=i)});const F=i=>i.toLocaleString("en-US",{style:"currency",currency:"USD"}),B=()=>{l.value={},y.value=!1,g.value=!0},M=()=>{g.value=!1,y.value=!1},R=()=>{y.value=!0,l.value.name&&l.value.name.trim()&&l.value.price&&(l.value.id?(l.value.inventoryStatus=l.value.inventoryStatus.value?l.value.inventoryStatus.value:l.value.inventoryStatus,d.value[K(l.value.id)]=l.value,C.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(l.value.id=P(),l.value.code=P(),l.value.image="product-placeholder.svg",l.value.inventoryStatus=l.value.inventoryStatus?l.value.inventoryStatus.value:"INSTOCK",d.value.push(l.value),C.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),g.value=!1,l.value={})},q=i=>{l.value={...i},g.value=!0},O=i=>{l.value=i,S.value=!0},A=()=>{d.value=d.value.filter(i=>i.id!==l.value.id),S.value=!1,l.value={},C.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})},K=i=>{let e=-1;for(let n=0;n<d.value.length;n++)if(d.value[n].id===i){e=n;break}return e},P=()=>{let i="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<5;n++)i+=e.charAt(Math.floor(Math.random()*e.length));return i},z=()=>{h.value.exportCSV()},E=()=>{w.value=!0},$=()=>{d.value=d.value.filter(i=>!b.value.includes(i)),w.value=!1,b.value=null,C.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})},j=()=>{V.value={global:{value:null,matchMode:se.CONTAINS}}};return(i,e)=>{const n=u("Button"),Y=u("FileUpload"),Q=u("Toolbar"),W=u("InputIcon"),D=u("InputText"),G=u("IconField"),c=u("Column"),H=u("Rating"),J=u("Tag"),X=u("DataTable"),Z=u("Textarea"),ee=u("Dropdown"),x=u("RadioButton"),U=u("InputNumber"),_=u("Dialog");return v(),m("div",ne,[a("div",ue,[a("div",de,[o(Q,{class:"mb-4"},{start:s(()=>[a("div",re,[o(n,{label:"New",icon:"pi pi-plus",class:"mr-2",severity:"success",onClick:B}),o(n,{label:"Delete",icon:"pi pi-trash",severity:"danger",onClick:E,disabled:!b.value||!b.value.length},null,8,["disabled"])])]),end:s(()=>[o(Y,{mode:"basic",accept:"image/*",maxFileSize:1e6,label:"Import",chooseLabel:"Import",class:"mr-2 inline-block"}),o(n,{label:"Export",icon:"pi pi-upload",severity:"help",onClick:e[0]||(e[0]=t=>z(t))})]),_:1}),o(X,{ref_key:"dt",ref:h,value:d.value,selection:b.value,"onUpdate:selection":e[2]||(e[2]=t=>b.value=t),dataKey:"id",paginator:!0,rows:10,filters:V.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products"},{header:s(()=>[a("div",ce,[e[17]||(e[17]=a("h5",{class:"m-0"},"Manage Products",-1)),o(G,{iconPosition:"left",class:"block mt-2 md:mt-0"},{default:s(()=>[o(W,{class:"pi pi-search"}),o(D,{class:"w-full sm:w-auto",modelValue:V.value.global.value,"onUpdate:modelValue":e[1]||(e[1]=t=>V.value.global.value=t),placeholder:"Search..."},null,8,["modelValue"])]),_:1})])]),default:s(()=>[o(c,{selectionMode:"multiple",headerStyle:"width: 3rem"}),o(c,{field:"code",header:"Code",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(t=>[e[18]||(e[18]=a("span",{class:"p-column-title"},"Code",-1)),f(" "+p(t.data.code),1)]),_:1}),o(c,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(t=>[e[19]||(e[19]=a("span",{class:"p-column-title"},"Name",-1)),f(" "+p(t.data.name),1)]),_:1}),o(c,{header:"Image",headerStyle:"width:14%; min-width:10rem;"},{body:s(t=>[e[20]||(e[20]=a("span",{class:"p-column-title"},"Image",-1)),a("img",{src:"/demo/images/product/"+t.data.image,alt:t.data.image,class:"shadow-2",width:"100"},null,8,ve)]),_:1}),o(c,{field:"price",header:"Price",sortable:!0,headerStyle:"width:14%; min-width:8rem;"},{body:s(t=>[e[21]||(e[21]=a("span",{class:"p-column-title"},"Price",-1)),f(" "+p(F(t.data.price)),1)]),_:1}),o(c,{field:"category",header:"Category",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(t=>[e[22]||(e[22]=a("span",{class:"p-column-title"},"Category",-1)),f(" "+p(t.data.category),1)]),_:1}),o(c,{field:"rating",header:"Reviews",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(t=>[e[23]||(e[23]=a("span",{class:"p-column-title"},"Rating",-1)),o(H,{modelValue:t.data.rating,readonly:!0,cancel:!1},null,8,["modelValue"])]),_:1}),o(c,{field:"inventoryStatus",header:"Status",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(t=>[e[24]||(e[24]=a("span",{class:"p-column-title"},"Status",-1)),o(J,{severity:L(t.data.inventoryStatus)},{default:s(()=>[f(p(t.data.inventoryStatus),1)]),_:2},1032,["severity"])]),_:1}),o(c,{headerStyle:"min-width:10rem;"},{body:s(t=>[o(n,{icon:"pi pi-pencil",class:"mr-2",severity:"success",rounded:"",onClick:te=>q(t.data)},null,8,["onClick"]),o(n,{icon:"pi pi-trash",class:"mt-2",severity:"warning",rounded:"",onClick:te=>O(t.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),o(_,{visible:g.value,"onUpdate:visible":e[12]||(e[12]=t=>g.value=t),style:{width:"450px"},header:"Product Details",modal:!0,class:"p-fluid"},{footer:s(()=>[o(n,{label:"Cancel",icon:"pi pi-times",text:"",onClick:M}),o(n,{label:"Save",icon:"pi pi-check",text:"",onClick:R})]),default:s(()=>[l.value.image?(v(),m("img",{key:0,src:"/demo/images/product/"+l.value.image,alt:l.value.image,width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,me)):k("",!0),a("div",pe,[e[25]||(e[25]=a("label",{for:"name"},"Name",-1)),o(D,{id:"name",modelValue:l.value.name,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.name=t),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:y.value&&!l.value.name},null,8,["modelValue","invalid"]),y.value&&!l.value.name?(v(),m("small",ye,"Name is required.")):k("",!0)]),a("div",fe,[e[26]||(e[26]=a("label",{for:"description"},"Description",-1)),o(Z,{id:"description",modelValue:l.value.description,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.description=t),required:"true",rows:"3",cols:"20"},null,8,["modelValue"])]),a("div",ge,[e[27]||(e[27]=a("label",{for:"inventoryStatus",class:"mb-3"},"Inventory Status",-1)),o(ee,{id:"inventoryStatus",modelValue:l.value.inventoryStatus,"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.inventoryStatus=t),options:T.value,optionLabel:"label",placeholder:"Select a Status"},{value:s(t=>[t.value&&t.value.value?(v(),m("div",be,[a("span",{class:I("product-badge status-"+t.value.value)},p(t.value.label),3)])):t.value&&!t.value.value?(v(),m("div",Se,[a("span",{class:I("product-badge status-"+t.value.toLowerCase())},p(t.value),3)])):(v(),m("span",we,p(t.placeholder),1))]),_:1},8,["modelValue","options"])]),a("div",ke,[e[32]||(e[32]=a("label",{class:"mb-3"},"Category",-1)),a("div",Ce,[a("div",Ve,[o(x,{id:"category1",name:"category",value:"Accessories",modelValue:l.value.category,"onUpdate:modelValue":e[6]||(e[6]=t=>l.value.category=t)},null,8,["modelValue"]),e[28]||(e[28]=a("label",{for:"category1"},"Accessories",-1))]),a("div",xe,[o(x,{id:"category2",name:"category",value:"Clothing",modelValue:l.value.category,"onUpdate:modelValue":e[7]||(e[7]=t=>l.value.category=t)},null,8,["modelValue"]),e[29]||(e[29]=a("label",{for:"category2"},"Clothing",-1))]),a("div",_e,[o(x,{id:"category3",name:"category",value:"Electronics",modelValue:l.value.category,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.category=t)},null,8,["modelValue"]),e[30]||(e[30]=a("label",{for:"category3"},"Electronics",-1))]),a("div",he,[o(x,{id:"category4",name:"category",value:"Fitness",modelValue:l.value.category,"onUpdate:modelValue":e[9]||(e[9]=t=>l.value.category=t)},null,8,["modelValue"]),e[31]||(e[31]=a("label",{for:"category4"},"Fitness",-1))])])]),a("div",Pe,[a("div",De,[e[33]||(e[33]=a("label",{for:"price"},"Price",-1)),o(U,{id:"price",modelValue:l.value.price,"onUpdate:modelValue":e[10]||(e[10]=t=>l.value.price=t),mode:"currency",currency:"USD",locale:"en-US",invalid:y.value&&!l.value.price,required:!0},null,8,["modelValue","invalid"]),y.value&&!l.value.price?(v(),m("small",Ue,"Price is required.")):k("",!0)]),a("div",Ie,[e[34]||(e[34]=a("label",{for:"quantity"},"Quantity",-1)),o(U,{id:"quantity",modelValue:l.value.quantity,"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.quantity=t),integeronly:""},null,8,["modelValue"])])])]),_:1},8,["visible"]),o(_,{visible:S.value,"onUpdate:visible":e[14]||(e[14]=t=>S.value=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:s(()=>[o(n,{label:"No",icon:"pi pi-times",text:"",onClick:e[13]||(e[13]=t=>S.value=!1)}),o(n,{label:"Yes",icon:"pi pi-check",text:"",onClick:A})]),default:s(()=>[a("div",Te,[e[37]||(e[37]=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),l.value?(v(),m("span",Ne,[e[35]||(e[35]=f("Are you sure you want to delete ")),a("b",null,p(l.value.name),1),e[36]||(e[36]=f("?"))])):k("",!0)])]),_:1},8,["visible"]),o(_,{visible:w.value,"onUpdate:visible":e[16]||(e[16]=t=>w.value=t),style:{width:"450px"},header:"Confirm",modal:!0},{footer:s(()=>[o(n,{label:"No",icon:"pi pi-times",text:"",onClick:e[15]||(e[15]=t=>w.value=!1)}),o(n,{label:"Yes",icon:"pi pi-check",text:"",onClick:$})]),default:s(()=>[a("div",Le,[e[38]||(e[38]=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),l.value?(v(),m("span",Fe,"Are you sure you want to delete the selected products?")):k("",!0)])]),_:1},8,["visible"])])])])}}};export{qe as default};
